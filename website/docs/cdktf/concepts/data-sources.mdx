---
page_title: Data Sources in CDK for Terraform
description: >-
  Use data sources to allow Terraform to use external data, function output, and
  data from other configurations.
---

# Data Sources

[Terraform data sources](/language/data-sources) fetch information from external APIs and from other Terraform configurations. For example, you may want to import disk image IDs from a cloud provider or share data between configurations for different parts of your infrastructure.

## When to Use Data Sources

Use data sources when you need to reference dynamic data that is not known until after Terraform applies a configuration. For example, instance IDs that cloud providers assign on creation.

When data is static or you know the values before [synthesizing your code](/cdktf/cli-reference/commands#synth), we recommend creating static references in your preferred programming language or using [Terraform variables](/cdktf/concepts/variables-and-outputs).

## Define Data Sources

Data Sources are part of a [Terraform provider](/cdktf/concepts/providers-and-resources). All classes representing Data Sources are prefixed with `Data`.

In the TypeScript example below, a Terraform data source fetches the AWS region `DataAwsRegion` from the AWS provider.

<CodeTabs>

```ts
import { Construct } from "constructs";
import { TerraformStack, TerraformOutput } from "cdktf";
import { datasources } from "@cdktf/provider-aws";

export class HelloTerraform extends TerraformStack {
  constructor(scope: Construct, id: string) {
    super(scope, id);

    const region = new datasources.DataAwsRegion(this, "region");
    new TerraformOutput(this, "region", {
      value: region,
    });
  }
}
```

```python
from constructs import Construct
from cdktf import TerraformStack, TerraformOutput
from cdktf_cdktf_provider_aws import datasources

class HelloTerraform(TerraformStack):
    def __init__(self, scope, id):
        super().__init__(scope, id)

        region = datasources.DataAwsRegion(self, "region")
        TerraformOutput(self, "region",
            value=region
        )
```

```java
import software.constructs.Construct;
import com.hashicorp.cdktf.TerraformStack;
import com.hashicorp.cdktf.TerraformOutput;
import com.hashicorp.cdktf.providers.aws.datasources.*;

public class HelloTerraform extends TerraformStack {
    public HelloTerraform(Construct scope, String id) {
        super(scope, id);

        DataAwsRegion region = new DataAwsRegion(this, "region");
        TerraformOutput.Builder.create(this, "region")
                .value(region)
                .build();
    }
}
```

```csharp
using Constructs;
using HashiCorp.Cdktf;
using HashiCorp.Cdktf.Providers.Aws.datasources;

class HelloTerraform : TerraformStack
{
    public HelloTerraform(Construct scope, string id) : base(scope, id)
    {

        DataAwsRegion region = new DataAwsRegion(this, "region");
        new TerraformOutput(this, "region", new TerraformOutputConfig {
            Value = region
        });
    }
}
```

```go
import "github.com/aws/constructs-go/constructs"
import "github.com/hashicorp/terraform-cdk-go/cdktf"
import "github.com/hashicorp/cdktf-provider-aws-go/aws"

type HelloTerraform struct {
	terraformStack
}

func NewHelloTerraform(scope construct, id *string) *HelloTerraform {
	this := &HelloTerraform{}
	NewTerraformStack_Override(this, scope, id)

	region := aws.Datasources.NewDataAwsRegion(this, jsii.String("region"))
	cdktf.NewTerraformOutput(this, jsii.String("region"), &terraformOutputConfig{
		value: region,
	})
	return this
}
```

</CodeTabs>

## Remote State Data Source

The [`terraform_remote_state` data source](/language/state/remote-state-data) retrieves state data from a remote [Terraform backend](/language/settings/backends). This allows you to use the root-level outputs of one or more Terraform configurations as input data for another configuration. For example, a core infrastructure team can handle building the core machines, networking, etc. and then expose some information to other teams that allows them to run their own infrastructure. Refer to the [Remote Backends page](/cdktf/concepts/remote-backends) for more details.

The TypeScript example below uses the global `DataTerraformRemoteState` to reference a Terraform Output of another Terraform configuration.

<CodeTabs>

```ts
import { DataTerraformRemoteState, TerraformStack, Token } from "cdktf";
import * as aws from "@cdktf/provider-aws";
import { Construct } from "constructs";

export class HelloTerraform extends TerraformStack {
  constructor(scope: Construct, id: string) {
    super(scope, id);

    const remoteState = new DataTerraformRemoteState(this, "remote_state", {
      organization: "hashicorp",
      workspaces: {
        name: "vpc-prod",
      },
    });

    new aws.ec2.Instance(this, "foo", {
      subnetId: Token.asString(remoteState.get("subnet_id")),
    });
  }
}
```

```python
from cdktf import DataTerraformRemoteState, TerraformStack, Token
import cdktf_cdktf_provider_aws as aws
from constructs import Construct

class HelloTerraform(TerraformStack):
    def __init__(self, scope, id):
        super().__init__(scope, id)

        remote_state = DataTerraformRemoteState(self, "remote_state",
            organization="hashicorp",
            workspaces={
                "name": "vpc-prod"
            }
        )

        aws.ec2.Instance(self, "foo",
            subnet_id=Token.as_string(remote_state.get("subnet_id"))
        )
```

```java
import com.hashicorp.cdktf.DataTerraformRemoteState;
import com.hashicorp.cdktf.TerraformStack;
import com.hashicorp.cdktf.Token;
import com.hashicorp.cdktf.providers.aws.*;
import software.constructs.Construct;

public class HelloTerraform extends TerraformStack {
    public HelloTerraform(Construct scope, String id) {
        super(scope, id);

        DataTerraformRemoteState remoteState = DataTerraformRemoteState.Builder.create(this, "remote_state")
                .organization("hashicorp")
                .workspaces(Map.of(
                        "name", "vpc-prod"))
                .build();

        Instance.Builder.create(this, "foo")
                .subnetId(Token.asString(remoteState.get("subnet_id")))
                .build();
    }
}
```

```csharp
using HashiCorp.Cdktf;
using HashiCorp.Cdktf.Providers.Aws;
using Constructs;

class HelloTerraform : TerraformStack
{
    public HelloTerraform(Construct scope, string id) : base(scope, id)
    {

        DataTerraformRemoteState remoteState = new DataTerraformRemoteState(this, "remote_state", new DataTerraformRemoteStateRemoteConfig {
            Organization = "hashicorp",
            Workspaces = new Dictionary<string, string> {
                { "name", "vpc-prod" }
            }
        });

        new Ec2.Instance(this, "foo", new InstanceConfig {
            SubnetId = Token.AsString(remoteState.Get("subnet_id"))
        });
    }
}
```

```go
import "github.com/hashicorp/terraform-cdk-go/cdktf"
import aws "github.com/hashicorp/cdktf-provider-aws-go/aws"
import "github.com/aws/constructs-go/constructs"

type HelloTerraform struct {
	terraformStack
}

func NewHelloTerraform(scope construct, id *string) *HelloTerraform {
	this := &HelloTerraform{}
	NewTerraformStack_Override(this, scope, id)

	remoteState := cdktf.NewDataTerraformRemoteState(this, jsii.String("remote_state"), &cdktf.DataTerraformRemoteStateRemoteConfig{
		organization: jsii.String("hashicorp"),
		workspaces: map[string]*string{
			"name": jsii.String("vpc-prod"),
		},
	})

	aws.ec2.NewInstance(this, jsii.String("foo"), &aws.Ec2.InstanceConfig{
		subnetId: cdktf.Token.asString(remoteState.get(jsii.String("subnet_id"))),
	})
	return this
}
```

</CodeTabs>
