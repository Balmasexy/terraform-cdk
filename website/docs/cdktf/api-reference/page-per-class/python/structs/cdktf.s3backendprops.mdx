---
page_title: API Reference for cdktf.S3BackendProps
description: >-
  The CDKTF Core API Reference for cdktf.S3BackendProps.
---

<!-- This file is generated through yarn generate-docs -->

# API Reference for cdktf.S3BackendProps

   S3BackendProps <a name="S3BackendProps" id="cdktf.S3BackendProps"></a>
  
  Stores the state as a given key in a given bucket on Amazon S3.
  
  This backend
  also supports state locking and consistency checking via Dynamo DB, which
  can be enabled by setting the dynamodb_table field to an existing DynamoDB
  table name. A single DynamoDB table can be used to lock multiple remote
  state files. Terraform generates key names that include the values of the
  bucket and key variables.
  
  Warning! It is highly recommended that you enable Bucket Versioning on the
  S3 bucket to allow for state recovery in the case of accidental deletions
  and human error.
  
  Read more about this backend in the Terraform docs:
  https://www.terraform.io/language/settings/backends/s3
  
  # Initializer <a name="Initializer" id="cdktf.S3BackendProps.Initializer"></a>
  
  ```python
  import cdktf
  
  cdktf.S3BackendProps(
    bucket: str,
    key: str,
    access_key: str = None,
    acl: str = None,
    assume_role_policy: str = None,
    assume_role_policy_arns: typing.List[str] = None,
    assume_role_tags: typing.Mapping[str] = None,
    assume_role_transitive_tag_keys: typing.List[str] = None,
    dynamodb_endpoint: str = None,
    dynamodb_table: str = None,
    encrypt: bool = None,
    endpoint: str = None,
    external_id: str = None,
    force_path_style: bool = None,
    iam_endpoint: str = None,
    kms_key_id: str = None,
    max_retries: typing.Union[int, float] = None,
    profile: str = None,
    region: str = None,
    role_arn: str = None,
    secret_key: str = None,
    session_name: str = None,
    shared_credentials_file: str = None,
    skip_credentials_validation: bool = None,
    skip_metadata_api_check: bool = None,
    skip_region_validation: bool = None,
    sse_customer_key: str = None,
    sts_endpoint: str = None,
    token: str = None,
    workspace_key_prefix: str = None
  )
  ```
  
  # Properties <a name="Properties" id="Properties"></a>
  
  | **Name** | **Type** | **Description** |
  | --- | --- | --- |
  | <code><a href="#cdktf.S3BackendProps.property.bucket">bucket</a></code> | <code>str</code> | Name of the S3 Bucket. |
  | <code><a href="#cdktf.S3BackendProps.property.key">key</a></code> | <code>str</code> | Path to the state file inside the S3 Bucket. |
  | <code><a href="#cdktf.S3BackendProps.property.accessKey">access_key</a></code> | <code>str</code> | (Optional) AWS access key. |
  | <code><a href="#cdktf.S3BackendProps.property.acl">acl</a></code> | <code>str</code> | (Optional) Canned ACL to be applied to the state file. |
  | <code><a href="#cdktf.S3BackendProps.property.assumeRolePolicy">assume_role_policy</a></code> | <code>str</code> | (Optional) IAM Policy JSON describing further restricting permissions for the IAM Role being assumed. |
  | <code><a href="#cdktf.S3BackendProps.property.assumeRolePolicyArns">assume_role_policy_arns</a></code> | <code>typing.List[str]</code> | (Optional) Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed. |
  | <code><a href="#cdktf.S3BackendProps.property.assumeRoleTags">assume_role_tags</a></code> | <code>typing.Mapping[str]</code> | (Optional) Map of assume role session tags. |
  | <code><a href="#cdktf.S3BackendProps.property.assumeRoleTransitiveTagKeys">assume_role_transitive_tag_keys</a></code> | <code>typing.List[str]</code> | (Optional) Set of assume role session tag keys to pass to any subsequent sessions. |
  | <code><a href="#cdktf.S3BackendProps.property.dynamodbEndpoint">dynamodb_endpoint</a></code> | <code>str</code> | (Optional) Custom endpoint for the AWS DynamoDB API. |
  | <code><a href="#cdktf.S3BackendProps.property.dynamodbTable">dynamodb_table</a></code> | <code>str</code> | (Optional) Name of DynamoDB Table to use for state locking and consistency. |
  | <code><a href="#cdktf.S3BackendProps.property.encrypt">encrypt</a></code> | <code>bool</code> | (Optional) Enable server side encryption of the state file. |
  | <code><a href="#cdktf.S3BackendProps.property.endpoint">endpoint</a></code> | <code>str</code> | (Optional) Custom endpoint for the AWS S3 API. |
  | <code><a href="#cdktf.S3BackendProps.property.externalId">external_id</a></code> | <code>str</code> | (Optional) External identifier to use when assuming the role. |
  | <code><a href="#cdktf.S3BackendProps.property.forcePathStyle">force_path_style</a></code> | <code>bool</code> | (Optional) Enable path-style S3 URLs (https://< HOST >/< BUCKET > instead of https://< BUCKET >.< HOST >). |
  | <code><a href="#cdktf.S3BackendProps.property.iamEndpoint">iam_endpoint</a></code> | <code>str</code> | (Optional) Custom endpoint for the AWS Identity and Access Management (IAM) API. |
  | <code><a href="#cdktf.S3BackendProps.property.kmsKeyId">kms_key_id</a></code> | <code>str</code> | (Optional) Amazon Resource Name (ARN) of a Key Management Service (KMS) Key to use for encrypting the state. |
  | <code><a href="#cdktf.S3BackendProps.property.maxRetries">max_retries</a></code> | <code>typing.Union[int, float]</code> | (Optional) The maximum number of times an AWS API request is retried on retryable failure. |
  | <code><a href="#cdktf.S3BackendProps.property.profile">profile</a></code> | <code>str</code> | (Optional) Name of AWS profile in AWS shared credentials file (e.g. ~/.aws/credentials) or AWS shared configuration file (e.g. ~/.aws/config) to use for credentials and/or configuration. This can also be sourced from the AWS_PROFILE environment variable. |
  | <code><a href="#cdktf.S3BackendProps.property.region">region</a></code> | <code>str</code> | AWS Region of the S3 Bucket and DynamoDB Table (if used). |
  | <code><a href="#cdktf.S3BackendProps.property.roleArn">role_arn</a></code> | <code>str</code> | (Optional) Amazon Resource Name (ARN) of the IAM Role to assume. |
  | <code><a href="#cdktf.S3BackendProps.property.secretKey">secret_key</a></code> | <code>str</code> | (Optional) AWS secret access key. |
  | <code><a href="#cdktf.S3BackendProps.property.sessionName">session_name</a></code> | <code>str</code> | (Optional) Session name to use when assuming the role. |
  | <code><a href="#cdktf.S3BackendProps.property.sharedCredentialsFile">shared_credentials_file</a></code> | <code>str</code> | (Optional) Path to the AWS shared credentials file. |
  | <code><a href="#cdktf.S3BackendProps.property.skipCredentialsValidation">skip_credentials_validation</a></code> | <code>bool</code> | (Optional) Skip credentials validation via the STS API. |
  | <code><a href="#cdktf.S3BackendProps.property.skipMetadataApiCheck">skip_metadata_api_check</a></code> | <code>bool</code> | (Optional) Skip usage of EC2 Metadata API. |
  | <code><a href="#cdktf.S3BackendProps.property.skipRegionValidation">skip_region_validation</a></code> | <code>bool</code> | (Optional) Skip validation of provided region name. |
  | <code><a href="#cdktf.S3BackendProps.property.sseCustomerKey">sse_customer_key</a></code> | <code>str</code> | (Optional) The key to use for encrypting state with Server-Side Encryption with Customer-Provided Keys (SSE-C). |
  | <code><a href="#cdktf.S3BackendProps.property.stsEndpoint">sts_endpoint</a></code> | <code>str</code> | (Optional) Custom endpoint for the AWS Security Token Service (STS) API. |
  | <code><a href="#cdktf.S3BackendProps.property.token">token</a></code> | <code>str</code> | (Optional) Multi-Factor Authentication (MFA) token. |
  | <code><a href="#cdktf.S3BackendProps.property.workspaceKeyPrefix">workspace_key_prefix</a></code> | <code>str</code> | (Optional) Prefix applied to the state path inside the bucket. |
  
  ---
  
  ## `bucket`<sup>Required</sup> <a name="bucket" id="cdktf.S3BackendProps.property.bucket"></a>
  
  ```python
  bucket: str
  ```
  
  - *Type:* str
  
  Name of the S3 Bucket.
  
  ---
  
  ## `key`<sup>Required</sup> <a name="key" id="cdktf.S3BackendProps.property.key"></a>
  
  ```python
  key: str
  ```
  
  - *Type:* str
  
  Path to the state file inside the S3 Bucket.
  
  When using a non-default workspace, the state path will be /workspace_key_prefix/workspace_name/key
  
  ---
  
  ## `access_key`<sup>Optional</sup> <a name="access_key" id="cdktf.S3BackendProps.property.accessKey"></a>
  
  ```python
  access_key: str
  ```
  
  - *Type:* str
  
  (Optional) AWS access key.
  
  If configured, must also configure secret_key.
  This can also be sourced from
  the AWS_ACCESS_KEY_ID environment variable,
  AWS shared credentials file (e.g. ~/.aws/credentials),
  or AWS shared configuration file (e.g. ~/.aws/config).
  
  ---
  
  ## `acl`<sup>Optional</sup> <a name="acl" id="cdktf.S3BackendProps.property.acl"></a>
  
  ```python
  acl: str
  ```
  
  - *Type:* str
  
  (Optional) Canned ACL to be applied to the state file.
  
  ---
  
  ## `assume_role_policy`<sup>Optional</sup> <a name="assume_role_policy" id="cdktf.S3BackendProps.property.assumeRolePolicy"></a>
  
  ```python
  assume_role_policy: str
  ```
  
  - *Type:* str
  
  (Optional) IAM Policy JSON describing further restricting permissions for the IAM Role being assumed.
  
  ---
  
  ## `assume_role_policy_arns`<sup>Optional</sup> <a name="assume_role_policy_arns" id="cdktf.S3BackendProps.property.assumeRolePolicyArns"></a>
  
  ```python
  assume_role_policy_arns: typing.List[str]
  ```
  
  - *Type:* typing.List[str]
  
  (Optional) Set of Amazon Resource Names (ARNs) of IAM Policies describing further restricting permissions for the IAM Role being assumed.
  
  ---
  
  ## `assume_role_tags`<sup>Optional</sup> <a name="assume_role_tags" id="cdktf.S3BackendProps.property.assumeRoleTags"></a>
  
  ```python
  assume_role_tags: typing.Mapping[str]
  ```
  
  - *Type:* typing.Mapping[str]
  
  (Optional) Map of assume role session tags.
  
  ---
  
  ## `assume_role_transitive_tag_keys`<sup>Optional</sup> <a name="assume_role_transitive_tag_keys" id="cdktf.S3BackendProps.property.assumeRoleTransitiveTagKeys"></a>
  
  ```python
  assume_role_transitive_tag_keys: typing.List[str]
  ```
  
  - *Type:* typing.List[str]
  
  (Optional) Set of assume role session tag keys to pass to any subsequent sessions.
  
  ---
  
  ## `dynamodb_endpoint`<sup>Optional</sup> <a name="dynamodb_endpoint" id="cdktf.S3BackendProps.property.dynamodbEndpoint"></a>
  
  ```python
  dynamodb_endpoint: str
  ```
  
  - *Type:* str
  
  (Optional) Custom endpoint for the AWS DynamoDB API.
  
  This can also be sourced from the AWS_DYNAMODB_ENDPOINT environment variable.
  
  ---
  
  ## `dynamodb_table`<sup>Optional</sup> <a name="dynamodb_table" id="cdktf.S3BackendProps.property.dynamodbTable"></a>
  
  ```python
  dynamodb_table: str
  ```
  
  - *Type:* str
  
  (Optional) Name of DynamoDB Table to use for state locking and consistency.
  
  The table must have a partition key named LockID with type of String.
  If not configured, state locking will be disabled.
  
  ---
  
  ## `encrypt`<sup>Optional</sup> <a name="encrypt" id="cdktf.S3BackendProps.property.encrypt"></a>
  
  ```python
  encrypt: bool
  ```
  
  - *Type:* bool
  
  (Optional) Enable server side encryption of the state file.
  
  ---
  
  ## `endpoint`<sup>Optional</sup> <a name="endpoint" id="cdktf.S3BackendProps.property.endpoint"></a>
  
  ```python
  endpoint: str
  ```
  
  - *Type:* str
  
  (Optional) Custom endpoint for the AWS S3 API.
  
  This can also be sourced from the AWS_S3_ENDPOINT environment variable.
  
  ---
  
  ## `external_id`<sup>Optional</sup> <a name="external_id" id="cdktf.S3BackendProps.property.externalId"></a>
  
  ```python
  external_id: str
  ```
  
  - *Type:* str
  
  (Optional) External identifier to use when assuming the role.
  
  ---
  
  ## `force_path_style`<sup>Optional</sup> <a name="force_path_style" id="cdktf.S3BackendProps.property.forcePathStyle"></a>
  
  ```python
  force_path_style: bool
  ```
  
  - *Type:* bool
  
  (Optional) Enable path-style S3 URLs (https://< HOST >/< BUCKET > instead of https://< BUCKET >.< HOST >).
  
  ---
  
  ## `iam_endpoint`<sup>Optional</sup> <a name="iam_endpoint" id="cdktf.S3BackendProps.property.iamEndpoint"></a>
  
  ```python
  iam_endpoint: str
  ```
  
  - *Type:* str
  
  (Optional) Custom endpoint for the AWS Identity and Access Management (IAM) API.
  
  This can also be sourced from the AWS_IAM_ENDPOINT environment variable.
  
  ---
  
  ## `kms_key_id`<sup>Optional</sup> <a name="kms_key_id" id="cdktf.S3BackendProps.property.kmsKeyId"></a>
  
  ```python
  kms_key_id: str
  ```
  
  - *Type:* str
  
  (Optional) Amazon Resource Name (ARN) of a Key Management Service (KMS) Key to use for encrypting the state.
  
  Note that if this value is specified,
  Terraform will need kms:Encrypt, kms:Decrypt and kms:GenerateDataKey permissions on this KMS key.
  
  ---
  
  ## `max_retries`<sup>Optional</sup> <a name="max_retries" id="cdktf.S3BackendProps.property.maxRetries"></a>
  
  ```python
  max_retries: typing.Union[int, float]
  ```
  
  - *Type:* typing.Union[int, float]
  
  (Optional) The maximum number of times an AWS API request is retried on retryable failure.
  
  Defaults to 5.
  
  ---
  
  ## `profile`<sup>Optional</sup> <a name="profile" id="cdktf.S3BackendProps.property.profile"></a>
  
  ```python
  profile: str
  ```
  
  - *Type:* str
  
  (Optional) Name of AWS profile in AWS shared credentials file (e.g. ~/.aws/credentials) or AWS shared configuration file (e.g. ~/.aws/config) to use for credentials and/or configuration. This can also be sourced from the AWS_PROFILE environment variable.
  
  ---
  
  ## `region`<sup>Optional</sup> <a name="region" id="cdktf.S3BackendProps.property.region"></a>
  
  ```python
  region: str
  ```
  
  - *Type:* str
  
  AWS Region of the S3 Bucket and DynamoDB Table (if used).
  
  This can also
  be sourced from the AWS_DEFAULT_REGION and AWS_REGION environment
  variables.
  
  ---
  
  ## `role_arn`<sup>Optional</sup> <a name="role_arn" id="cdktf.S3BackendProps.property.roleArn"></a>
  
  ```python
  role_arn: str
  ```
  
  - *Type:* str
  
  (Optional) Amazon Resource Name (ARN) of the IAM Role to assume.
  
  ---
  
  ## `secret_key`<sup>Optional</sup> <a name="secret_key" id="cdktf.S3BackendProps.property.secretKey"></a>
  
  ```python
  secret_key: str
  ```
  
  - *Type:* str
  
  (Optional) AWS secret access key.
  
  If configured, must also configure access_key.
  This can also be sourced from
  the AWS_SECRET_ACCESS_KEY environment variable,
  AWS shared credentials file (e.g. ~/.aws/credentials),
  or AWS shared configuration file (e.g. ~/.aws/config)
  
  ---
  
  ## `session_name`<sup>Optional</sup> <a name="session_name" id="cdktf.S3BackendProps.property.sessionName"></a>
  
  ```python
  session_name: str
  ```
  
  - *Type:* str
  
  (Optional) Session name to use when assuming the role.
  
  ---
  
  ## `shared_credentials_file`<sup>Optional</sup> <a name="shared_credentials_file" id="cdktf.S3BackendProps.property.sharedCredentialsFile"></a>
  
  ```python
  shared_credentials_file: str
  ```
  
  - *Type:* str
  
  (Optional) Path to the AWS shared credentials file.
  
  Defaults to ~/.aws/credentials.
  
  ---
  
  ## `skip_credentials_validation`<sup>Optional</sup> <a name="skip_credentials_validation" id="cdktf.S3BackendProps.property.skipCredentialsValidation"></a>
  
  ```python
  skip_credentials_validation: bool
  ```
  
  - *Type:* bool
  
  (Optional) Skip credentials validation via the STS API.
  
  ---
  
  ## `skip_metadata_api_check`<sup>Optional</sup> <a name="skip_metadata_api_check" id="cdktf.S3BackendProps.property.skipMetadataApiCheck"></a>
  
  ```python
  skip_metadata_api_check: bool
  ```
  
  - *Type:* bool
  
  (Optional) Skip usage of EC2 Metadata API.
  
  ---
  
  ## `skip_region_validation`<sup>Optional</sup> <a name="skip_region_validation" id="cdktf.S3BackendProps.property.skipRegionValidation"></a>
  
  ```python
  skip_region_validation: bool
  ```
  
  - *Type:* bool
  
  (Optional) Skip validation of provided region name.
  
  ---
  
  ## `sse_customer_key`<sup>Optional</sup> <a name="sse_customer_key" id="cdktf.S3BackendProps.property.sseCustomerKey"></a>
  
  ```python
  sse_customer_key: str
  ```
  
  - *Type:* str
  
  (Optional) The key to use for encrypting state with Server-Side Encryption with Customer-Provided Keys (SSE-C).
  
  This is the base64-encoded value of the key, which must decode to 256 bits.
  This can also be sourced from the AWS_SSE_CUSTOMER_KEY environment variable,
  which is recommended due to the sensitivity of the value.
  Setting it inside a terraform file will cause it to be persisted to disk in terraform.tfstate.
  
  ---
  
  ## `sts_endpoint`<sup>Optional</sup> <a name="sts_endpoint" id="cdktf.S3BackendProps.property.stsEndpoint"></a>
  
  ```python
  sts_endpoint: str
  ```
  
  - *Type:* str
  
  (Optional) Custom endpoint for the AWS Security Token Service (STS) API.
  
  This can also be sourced from the AWS_STS_ENDPOINT environment variable.
  
  ---
  
  ## `token`<sup>Optional</sup> <a name="token" id="cdktf.S3BackendProps.property.token"></a>
  
  ```python
  token: str
  ```
  
  - *Type:* str
  
  (Optional) Multi-Factor Authentication (MFA) token.
  
  This can also be sourced from the AWS_SESSION_TOKEN environment variable.
  
  ---
  
  ## `workspace_key_prefix`<sup>Optional</sup> <a name="workspace_key_prefix" id="cdktf.S3BackendProps.property.workspaceKeyPrefix"></a>
  
  ```python
  workspace_key_prefix: str
  ```
  
  - *Type:* str
  
  (Optional) Prefix applied to the state path inside the bucket.
  
  This is only relevant when using a non-default workspace. Defaults to env:
  
  ---
  
