name: Unit Tests - @cdktf/api
on:
  pull_request:
    paths:
      # This workflow
      - ".github/workflows/unit-@cdktf-api.yml"
      # All packages under test
      - "packages/@cdktf/api/**"
      # All scripts we use
      - "tools/build-unit-test-matrix.sh"
      - "tools/align-version.sh"

jobs:
  unit_test:
    uses: ./.github/workflows/unit.yml
    strategy:
      fail-fast: false
      matrix:
        terraform_version: ["1.2.8"]
    with:
      concurrency_group_prefix: pr-cdktf-api
      package: "@cdktf/api"
      terraform_version: ${{ matrix.terraform_version }}
    secrets: inherit
